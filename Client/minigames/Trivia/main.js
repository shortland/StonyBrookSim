var questions = [
    new question("Which sea creature has three hearts? ",["Squid","Shrimp","Goldfish","Octopus"],"Octopus"),
    new question("Whose face was said to have launched 1000 ships? ",["Achilles","Spartacus","Julius Caesar","Helen of Troy"],"Helen of Troy"),
    new question("In the traditional rhyme, how many mice were blind?",["Three","Two","Four","Seven"],"Three"),
    new question("How many bones does an adult human have?",["144","206","900","300"],"206"),
    new question("Which traditional children's rhyme was about the plague?",["Ring O’ Roses","Humpty Dumpty","Garfield","Peter Pan"],"Ring O’ Roses")
];

var questions2 = [
    new question("Who went to school with a lamb?",["Carie","Jim","Mary","Sally"],"Mary"),
    new question("What is the Italian word for pie?",["Pizza","Pie","Piera","Tortellini"],"Pizza"),
    new question("Which reptile, according to the song, should you never smile at?",["Crocodile","Alligator","Bearded-Dragon","Lizard"],"Crocodile"),
    new question("In nautical terms, what is the opposite of port?",["Starboard","The Plank","Deck","Back-port"],"Starboard"),
    new question("What was Louis Armstrong's chosen form of music?",["Pop","Latin","Hip-hop","Jazz"],"Jazz")
]

var questions3 = [
    new question("What is one quarter of 1,000?",["250","200","300","500"],"250"),
    new question("How many sides, in total, would three triangles and three rectangles have?",["22","21","14","20"],"21"),
    new question("What is claustrophobia? A fear of:",["Insects","Santa Claus","Dark","Tight Spaces"],"Tight Spaces"),
    new question("When did the French Revolution end?",["1964","1799","1776","1801"],"1799"),
    new question("Which ocean surrounds the Maldives?",["Arctic","Pacific","Indian","Atlantic"],"Indian")
]

var questions4 = [
    new question("Which Tasmanian marsupial is known for its fiery temper?",["Tasmanian Devil","Bugs Bunny","Lola Bunny","Tweety Bird"],"Tasmanian Devil"),
    new question("Who was the lover of the Roman known as Marc Anthony?",["Medusa","Circe","Versace","Cleopatra"],"Cleopatra"),
    new question("Which Russian town suffered an infamous nuclear disaster in 1986?",["Moscow","Volgograd","Saint Petersburg","Chernobyl"],"Chernobyl"),
    new question("Which planet shares its name with a dog?",["Andromeda","Uranus","Pluto","Neptune"],"Pluto"),
    new question("Who wrote the poem Paradise Lost?",["John Milton","Shel Silverstein","Robert Frost","Socrates"],"John Milton")
]

var questions5 = [
    new question("Name the Chinese writer, born in 551 BCE, known for preaching high moral standards.",["Laozi","Wang Wei","Mencius","Confucius"],"Confucius"),
    new question("Name the fictional character whose household duties did not prevent her determination to dance.",["Sleeping Beauty","Fiona","Cinderella","Snow White"],"Cinderella"),
    new question("Which London square is famous–or infamous–for its pigeon population?",["Trafalgar","Luffy","Leicester","Soho"],"Trafalgar"),
    new question("Name the French novelist and poet, born in 1802, who was exiled to Jersey and who wrote about a hunchback.",["Thomas Jefferson","Moby Dick","Mark Twain","Victor Hugo"],"Victor Hugo"),
    new question("I have a cake and a table named after me, and I'm used all round the world. What am I?",["Chocolate","Coffee","Work","Vanilla"],"Coffee")
]

var questions6 = [
    new question("Name the Corsican who captured Toulon and who sold Louisiana to America",["Napoleon Bonaparte","Antoine Bonfanti","Paul Vecchiali","Lucien Bonaparte"],"Napoleon Bonaparte"),
    new question("I'm called thick when close to the ground, but people smile when I'm high. What am I?",["Water","Sky","Bird","Cloud"],"Cloud"),
    new question("Info.cern.ch is famous for being what?",["A company","A cool Website","The Worlds First Website","Introducing HTML5"],"The Worlds First Website"),
    new question("What is the biggest Island in the world?",["Greenland","Iceland","Hawaii","Manhattan"],"Greenland"),
    new question("Diameter of Earth?",["12392 KM","12742 KM","13000 KM","12000 KM"],"12742 KM")
]

var questions7 = [
    new question("Who was our 44th president",["Barack Obama","George W. Bush","Donald Trump","George Washington"],"Barack Obama"),
    new question("Largest Continent in the world?",["Australia","North America","Russia","Asia"],"Asia"),
    new question("How many states are there in the USA? ( If you don’t answer correctly leave the country right now)",["13","50","49","51"],"50"),
    new question("What state is known as the Empire State?",["New York","California","Ohio","Texas"],"New York"),
    new question("Largest Ocean in the world",["Pacific","Arctic","Indian","Atlantic"],"Pacific")
]

var questions8 = [
    new question("When was the Wheel invented?",["3500BC","1903","1776","1500BC"],"3500BC"),
    new question("Largest Sea in the world:",["Black Sea","Philippine Sea","Red Sea","Caspian Sea"],"Philippine Sea "),
    new question("When was Microsoft established?",["1988","1975","1974","1950"],"1975"),
    new question("How many degrees are in a circle?",["360","540","180","720"],"360"),
    new question("Sum of all angles in an Octagon:",["720","1080","360","1260"],"1080")
]

var questions9 = [
    new question("What city is known as the city of love?",["NYC","Las Vegas","London","Paris"],"Paris"),
    new question("Number of countries that are members in the United Nations",["86","126","76","193"],"193"),
    new question("Number of teeth in an adult’s mouth",["100","40","20","32"],"32"),
    new question("Years in a century",["10","1000","100","5"],"100"),
    new question("Who is the present Pope?",["Francis I","Benedict XVI","Pius XI","St. Peter"],"Francis I")
]

var questions10 = [
    new question("Tallest Mammal in the world?",["Elephant","Humans","Giraffe","Whale"],"Giraffe"),
    new question("What day gets a color in November?",["Friday","Thursday","Sunday","Monday"],"Friday"),
    new question("What is the capital of Italy?",["Rome","Florence","Venice","Milan"],"Rome"),
    new question("First Appearance of Superman?",["1890","2001","1938","1942"],"1938"),
    new question("What is ROY G BIV?",["A Game","A Weapon","A chemical","Colors"],"Colors")
]

var questions11 = [
    new question("How many sides are in a dodecagon?",["12","10","11","9"],"12"),
    new question("What does WHO stand for?",["Worlds Heartiest Orange","World Health Organization","World Home Organization","Nothing"],"World Health Organization"),
    new question("Owner of Microsoft",["Jeff Bezos","Satya Nadella","Steve Jobs","Bill Gates"],"Bill Gates"),
    new question("National Dish of America?",["Pancakes","Fries","Hamburger","Pizza"],"Hamburger"),
    new question("Colors of the UK Flag",["Red White and Blue","Green and Red","Red White and Black","White, Green and Yellow"],"Red White and Blue")
]

var questions12 = [
    new question("Who is the owner of Facebook?",["Mark Zuckerberg","Jeff Bezos","Bill Gates","Steve Jobs"],"Mark Zuckerberg"),
    new question("Who is the owner of Amazon?",["Walt Disney","Bill Gates","Jeff Bezos","Tim Cook"],"Jeff Bezos"),
    new question("After how many years are the Olympics held?",["2","4","8","6"],"4"),
    new question("What does HTML stand for?",["Hungrytiles Markup Lies","Huge Text Miles Language","Hypertext Markup Language","Hypertext Markup Lingo"],"Hypertext Markup Language"),
    new question("What does FM Stand for?",["File Manager","Frequency Magnitude","Frequency Modulation","Fireman"],"Frequency Modulation")
]

var questions13 = [
    new question("What does AM stand for?",["Amplitude Modulation","AMEX Card","Amplitude  Magnitude","American Man"],"Amplitude Modulation"),
    new question("Where is Times Square?",["New York","Los Angeles","Tokyo","London"],"New York"),
    new question("Deepest Ocean?",["Atlantic","Indian","Arctic","Pacific"],"Pacific"),
    new question("Fastest growing fingernail?",["Pinky","Middle","Ring","Thumb"],"Middle"),
    new question("Slowest Growing Fingernail?",["Thumb","Middle","Ring","Pinky"],"Thumb")
]

var questions14 = [
    new question("Who was our 16th U.S. President",["Teddy Roosevelt","Andrew Johnson","Abraham Lincoln","Thomas Edison"],"Abraham Lincoln"),
    new question("Who was our 35th U.S. President",["Jimmy Carte","Lyndon B Johnson","Franklin Roosevelt","John F Kennedy"],"John F Kennedy"),
    new question("What is the capital of Texas?",["San Antonio","Houston","Austin","Dallas"],"Austin"),
    new question("Planet closest to the Sun?",["Mars","Mercury","Pluto","Venus"],"Mercury"),
    new question("Longest Running American TV Show?",["Law & Order","CSI","The Office","Days of Our Lives"],"Law & Order")
]

var questions15 = [
    new question("Number of Keys on a piano",["80","68","52","88"],"88"),
    new question("Smallest bone in the body?",["Fibula","Stapes","Malleus","Incus"],"Stapes"),
    new question("What language do we use in CSE 220?",["Assembly","MIPS","Java","JavaScript"],"Assembly"),
    new question("What year did Germany sign the surrender of WWII?",["1945","1983","2000","1952"],"1945"),
    new question("What year was the movie 2012 released?",["2013","2008","2012","2009"],"2009")
]


var ran = (Math.floor(Math.random() * (15 - 1)) + 1);
console.log(ran);
if(ran == 1){
    var quiz = new quiz(questions);
}
else if(ran ==2){
    var quiz = new quiz(questions2);
}
else if(ran ==3){
    var quiz = new quiz(questions3);
}
else if(ran ==4){
    var quiz = new quiz(questions4);
}
else if(ran ==5){
    var quiz = new quiz(questions5);
}
else if(ran ==6){
    var quiz = new quiz(questions6);
}
else if(ran ==7){
    var quiz = new quiz(questions7);
}
else if(ran ==8){
    var quiz = new quiz(questions8);
}
else if(ran ==9){
    var quiz = new quiz(questions9);
}
else if(ran ==10){
    var quiz = new quiz(questions10);
}
else if(ran ==11){
    var quiz = new quiz(questions11);
}
else if(ran ==12){
    var quiz = new quiz(questions12);
}
else if(ran ==13){
    var quiz = new quiz(questions13);
}
else if(ran ==14){
    var quiz = new quiz(questions14);
}
else{
    var quiz = new quiz(questions15);
}

//var quiz = new quiz(questions);//
var time = 5;

function ask(){
    
    if (quiz.isDone()){
        //console.log("this is done",quiz.index);
        showEnd();
    }
    else{
        //console.log("this is in else",quiz.index);
        //show Q
        var q = $("#question").text(quiz.getIndex().text);
        //show options
        var o1 = $("#a").text(quiz.getIndex().options[0]);
        choose("a",quiz.getIndex().options[0]);
        var o2 = $("#b").text(quiz.getIndex().options[1]);
        choose("b",quiz.getIndex().options[1]);
        var o3 = $("#c").text(quiz.getIndex().options[2]);
        choose("c",quiz.getIndex().options[2]);
        var o4 = $("#d").text(quiz.getIndex().options[3]);
        choose("d",quiz.getIndex().options[3]);
        showProgress();
    }
};

function nextQuestion(){
    quiz.indexAddOne();
    ask();
}


function showProgress(){
    var index = quiz.index;
    var length = quiz.questions.length;
    $('#progress').text((index+1)+" out of "+ length + " questions");
}

function choose(id,choice){
    var button = $('#'+id);
    button.off().on("click",function(){
        quiz.choose(choice);
        time=5;
        ask();
    });
    
};

function showEnd(){
    console.log("DID SHOW END!");
    var doneHTML = "<p class = 'done'>Result</p>";
    doneHTML += "<p class = 'done'id = 'score'> Score:"+ quiz.score +"/"+questions.length+ "</p>";
    $("#main").hide();
    if (3 <= quiz.score) {
        $("#comment").text("Great Job!");
        localStorage.setItem("credit_win", 2);
        setTimeout(() => {window.parent.$('body').trigger('gameComplete');}, 1000);
    } else {
        $("#comment").text("You should study a bit more!");
        localStorage.setItem("credit_win", 1);
        setTimeout(() => {window.parent.$('body').trigger('gameComplete');}, 1000);
    }
    $("#showScore").prepend(doneHTML);
    $("#showScore").show();
};


$("#showScore").hide();
$('#game').hide();
$('#start').off().on("click",function(){
    $('#starting').hide();
    $('#game').show();
    ask();
    startTime();
});


var switchFlag = 0;
var counter = 0;
function startTime() {
    // add a zero in front of numbers<10
    if(counter ==1 ){
        $("#main").css("background","#aeaeae");
        //console.log(time);
        $('#timer').text("timer: "+time);
        if(switchFlag == 1){
            nextQuestion();
            switchFlag = 0;
        }
        if(time==1){
            time=5;
            if(!quiz.isDone()){
                switchFlag = 1;
            }
        }
        else{
            time-=1;
        }
        counter = 0;
    }
    else{
        counter = 1;
    }
    
    var t = setTimeout(function(){ startTime() }, 500);
}

$(document).ready(() => {
    $(document).on("keypress", event => {
        if (event.keyCode == 112) {
            window.location.href = "../../phone.html";
        }
    });
});
  